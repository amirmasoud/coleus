{"version":3,"sources":["webpack:///./resources/js/graphql/page.gql","webpack:///resources/js/pages/books/read.vue","webpack:///./resources/js/pages/books/read.vue?8898","webpack:///./resources/js/pages/books/read.vue"],"names":["doc","kind","definitions","operation","name","value","variableDefinitions","variable","type","directives","selectionSet","selections","arguments","loc","start","end","source","body","locationOffset","line","column","definitionRefs","findOperation","i","length","element","forEach","def","refs","Set","collectFragmentReferences","node","add","selection","module","exports","operationName","newDoc","hasOwnProperty","opRefs","allRefs","newRefs","size","prevRefs","refName","has","childRef","op","push","oneQuery","read","metaInfo","title","this","$t","props","firstId","Number","slug","String","data","id","$route","params","page","apollo","query","__webpack_require__","variables","result","response","$root","$emit","created","_this","$nextTick","$apollo","queries","refetch","books_read","render","_vm","_h","$createElement","_c","_self","loading","staticClass","domProps","innerHTML","_s","content","_v","attrs","no-body","to","next","icon","fixed-width","next_title","_e","prev","prev_title","src","staticRenderFns","Component","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"js/5.daccf379c34bb43f4483.js","sourcesContent":["\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"FetchPageById\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"page\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"title\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"content\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"next\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"prev\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"next_title\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"prev_title\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":133}};\n    doc.loc.source = {\"body\":\"query FetchPageById($id: Int) {\\n  page(id: $id) {\\n    id\\n    title\\n    content\\n    next\\n    prev\\n    next_title\\n    prev_title\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set(opRefs);\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"FetchPageById\"] = oneQuery(doc, \"FetchPageById\");\n        \n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/js/graphql/page.gql\n// module id = hNU6\n// module chunks = 5","<template>\n  <div v-if=\"page && ! this.$apollo.queries.page.loading\">\n    <b-card class=\"p-2 reading-container\">\n      <div class=\"row\" v-html=\"page.content\"></div>\n    </b-card>\n    <b-row>\n      <b-col>\n        <b-card v-if=\"page.next\" class=\"mt-3\" no-body>\n          <b-link class=\"d-block text-left p-3\"\n                  :to=\"{ name: 'books.read', params: { slug: slug, page: page.next }}\">\n            <fa icon=\"angle-double-right\" fixed-width /> {{ $t('next') }} <br />\n            <small class=\"text-muted\">{{ page.next_title }}</small>\n          </b-link>\n        </b-card>\n      </b-col>\n      <b-col>\n        <b-card v-if=\"page.prev\" class=\"mt-3\" no-body>\n          <b-link class=\"d-block text-right p-3\"\n                  :to=\"{ name: 'books.read', params: { slug: slug, page: page.prev }}\">\n            {{ $t('prev') }} <fa icon=\"angle-double-left\" fixed-width /> <br />\n            <small class=\"text-muted\">{{ page.prev_title }}</small>\n          </b-link>\n        </b-card>\n      </b-col>\n    </b-row>\n  </div>\n  <div v-else>\n    <b-card class=\"p-2 reading-container\">\n      <img class=\"d-block mx-auto\" :src=\"'/svg-loaders/oval.svg'\" />\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport gql from 'graphql-tag'\n\nexport default {\n  metaInfo () {\n    return { title: this.$t('read_book') }\n  },\n\n  props: {\n    firstId: Number,\n    slug: String\n  },\n\n  data () {\n    return {\n      id: this.$route.params['page'],\n      page: null,\n    }\n  },\n\n  apollo: {\n    page: {\n      query: require('~/graphql/page.gql'),\n      variables() {\n        return {\n          id: this.id || this.firstId\n        }\n      },\n      result (response) {\n        this.$root.$emit('page-title-changed', this.page.title)\n      }\n    },\n  },\n\n  created () {\n    this.$nextTick(() => {\n      this.$apollo.queries.page.refetch()\n    });\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// resources/js/pages/books/read.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.page && ! this.$apollo.queries.page.loading)?_c('div',[_c('b-card',{staticClass:\"p-2 reading-container\"},[_c('div',{staticClass:\"row\",domProps:{\"innerHTML\":_vm._s(_vm.page.content)}})]),_vm._v(\" \"),_c('b-row',[_c('b-col',[(_vm.page.next)?_c('b-card',{staticClass:\"mt-3\",attrs:{\"no-body\":\"\"}},[_c('b-link',{staticClass:\"d-block text-left p-3\",attrs:{\"to\":{ name: 'books.read', params: { slug: _vm.slug, page: _vm.page.next }}}},[_c('fa',{attrs:{\"icon\":\"angle-double-right\",\"fixed-width\":\"\"}}),_vm._v(\" \"+_vm._s(_vm.$t('next'))+\" \"),_c('br'),_vm._v(\" \"),_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.page.next_title))])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('b-col',[(_vm.page.prev)?_c('b-card',{staticClass:\"mt-3\",attrs:{\"no-body\":\"\"}},[_c('b-link',{staticClass:\"d-block text-right p-3\",attrs:{\"to\":{ name: 'books.read', params: { slug: _vm.slug, page: _vm.page.prev }}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('prev'))+\" \"),_c('fa',{attrs:{\"icon\":\"angle-double-left\",\"fixed-width\":\"\"}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.page.prev_title))])],1)],1):_vm._e()],1)],1)],1):_c('div',[_c('b-card',{staticClass:\"p-2 reading-container\"},[_c('img',{staticClass:\"d-block mx-auto\",attrs:{\"src\":'/svg-loaders/oval.svg'}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27eb4c9a\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/js/pages/books/read.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\"]}!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./read.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\"]}!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./read.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27eb4c9a\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./read.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/js/pages/books/read.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}