webpackJsonp([13],{rVmA:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o,i=r("Xxa5"),a=r.n(i),c=(r("mtWM"),r("tlQw")),l=r.n(c),s=(n=["mutation ($title: String!, $description: String!, $cover: Upload!) {\n          newBook(title: $title, description: $description, cover: $cover) {\n            id\n          }\n        }"],o=["mutation ($title: String!, $description: String!, $cover: Upload!) {\n          newBook(title: $title, description: $description, cover: $cover) {\n            id\n          }\n        }"],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}})));var u={middleware:"auth",metaInfo:function(){return{title:this.$t("new_book")}},data:function(){return{form:new FormData({title:null,description:null,cover:null}),loading:!1}},methods:{onSubmit:function(){var t,e=(t=a.a.mark(function t(){var e=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$apollo.mutate({mutation:l()(s),variables:{title:this.form.title,description:this.form.description,cover:this.form.cover}}).then(function(t){e.loading=!1}).catch(function(t){e.loading=!1});case 3:t.sent;case 4:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),c=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(c).then(function(t){n("next",t)},function(t){n("throw",t)});t(c)}("next")})});return function(){return e.apply(this,arguments)}}()}},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v(t._s(t.$t("new_book")))]),t._v(" "),r("b-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("b-form-group",[r("b-form-file",{attrs:{name:"avatar",accept:"image/jpeg, image/png"},model:{value:t.form.cover,callback:function(e){t.$set(t.form,"cover",e)},expression:"form.cover"}})],1),t._v(" "),r("b-form-group",[r("b-form-input",{attrs:{type:"text",placeholder:t.$t("title"),dir:"auto"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("b-form-group",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",attrs:{placeholder:t.$t("description"),rows:"3",dir:"auto"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),t._v(" "),r("v-button",{attrs:{loading:t.loading}},[t._v(t._s(t.$t("submit")))])],1)],1)},staticRenderFns:[]},m=r("VU/8")(u,f,!1,null,null,null);e.default=m.exports}});
//# sourceMappingURL=13.d917e71db32a07da28a9.js.map