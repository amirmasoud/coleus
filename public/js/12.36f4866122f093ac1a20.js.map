{"version":3,"sources":["webpack:///resources/js/pages/books/new.vue","webpack:///./resources/js/pages/books/new.vue"],"names":["newvue_type_script_lang_js_","middleware","[object Object]","title","this","$t","data","form","FormData","description","cover","loading","methods","$apollo","mutate","mutation","src_default","a","variables","then","catch","error","component","Object","componentNormalizer","newvue_type_template_id_ef8df69a_","options","__file","__webpack_exports__"],"mappings":"iaAkCeA,GACfC,WAAA,OAEAC,WACA,OAAAC,MAAAC,KAAAC,GAAA,cAGAC,KAAA,MACAC,KAAA,IAAAC,UACAL,MAAA,KACAM,YAAA,KACAC,MAAA,OAEAC,SAAA,IAGAC,SACAV,iBACAE,KAAAO,SAAA,QACAP,KAAAS,QAAAC,QACAC,SAAkBC,EAAAC;;;;WAKlBC,WACAf,MAAAC,KAAAG,KAAAJ,MACAM,YAAAL,KAAAG,KAAAE,YACAC,MAAAN,KAAAG,KAAAG,SAEAS,KAAAb,IACAF,KAAAO,SAAA,IAGAS,MAAAC,IACAjB,KAAAO,SAAA,mBC9DAW,EAAgBC,OAAAC,EAAA,EAAAD,CACdvB,EACAyB,EAAA,OACAA,EAAA,iBACF,EACA,KACA,KACA,MAIAH,EAAAI,QAAAC,OAAA,UACeC,EAAA,QAAAN","file":"js/12.36f4866122f093ac1a20.js","sourcesContent":["<template>\n  <div>\n    <h2>{{ $t('new_book') }}</h2>\n    <b-form @submit.prevent=\"onSubmit\" enctype=\"multipart/form-data\">\n      <b-form-group>\n        <b-form-file name=\"avatar\"\n                    v-model=\"form.cover\"\n                    accept=\"image/jpeg, image/png\">\n        </b-form-file>\n      </b-form-group>\n      <b-form-group>\n        <b-form-input v-model=\"form.title\"\n                      type=\"text\"\n                      :placeholder=\"$t('title')\"\n                      dir=\"auto\">\n        </b-form-input>\n      </b-form-group>\n      <b-form-group>\n        <textarea v-model=\"form.description\"\n                 :placeholder=\"$t('description')\"\n                 rows=\"3\"\n                 class=\"form-control\"\n                 dir=\"auto\"></textarea>\n      </b-form-group>\n      <v-button :loading=\"loading\">{{ $t('submit') }}</v-button>\n    </b-form>\n  </div>\n  <!-- <div class=\"my-4 text-center\"><img src=\"svg-loaders/oval.svg\" /></div> -->\n</template>\n\n<script>\nimport axios from 'axios'\nimport gql from 'graphql-tag'\n\nexport default {\n  middleware: 'auth',\n\n  metaInfo () {\n    return { title: this.$t('new_book') }\n  },\n\n  data: () => ({\n    form: new FormData({\n      title: null,\n      description: null,\n      cover: null,\n    }),\n    loading: false\n  }),\n\n  methods: {\n    async onSubmit () {\n      this.loading = true\n      const result = await this.$apollo.mutate({\n        mutation: gql`mutation ($title: String!, $description: String!, $cover: Upload!) {\n          newBook(title: $title, description: $description, cover: $cover) {\n            id\n          }\n        }`,\n        variables: {\n          title: this.form.title,\n          description: this.form.description,\n          cover: this.form.cover\n        },\n      }).then((data) => {\n        this.loading = false\n        // Result\n        // console.log(data)\n      }).catch((error) => {\n        this.loading = false\n        // Error\n        // console.error(error)\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// resources/js/pages/books/new.vue","import { render, staticRenderFns } from \"./new.vue?vue&type=template&id=ef8df69a&\"\nimport script from \"./new.vue?vue&type=script&lang=js&\"\nexport * from \"./new.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"new.vue\"\nexport default component.exports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/js/pages/books/new.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}